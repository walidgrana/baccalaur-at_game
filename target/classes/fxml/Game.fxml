<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.bac.controller.GameController"
            styleClass="main-container" prefWidth="1000" prefHeight="700">
    
    <!-- En-tÃªte avec timer et lettre -->
    <top>
        <HBox alignment="CENTER" spacing="30" style="-fx-padding: 20; -fx-background-color: rgba(0,0,0,0.2);">
            <!-- Timer -->
            <VBox alignment="CENTER" spacing="5">
                <Label text="â±ï¸ Temps restant" style="-fx-text-fill: white; -fx-font-size: 12px;"/>
                <Label fx:id="timerLabel" text="02:00" styleClass="timer-label" style="-fx-text-fill: white;"/>
            </VBox>
            
            <Region HBox.hgrow="ALWAYS"/>
            
            <!-- Lettre du jeu -->
            <VBox alignment="CENTER" styleClass="letter-circle">
                <Label fx:id="letterLabel" text="A"/>
            </VBox>
            
            <Region HBox.hgrow="ALWAYS"/>
            
            <!-- Info mode -->
            <VBox alignment="CENTER" spacing="5">
                <Label fx:id="modeLabel" text="Mode Solo" style="-fx-text-fill: white; -fx-font-size: 14px;"/>
                <Label fx:id="sessionCodeLabel" text="" style="-fx-text-fill: rgba(255,255,255,0.7); -fx-font-size: 12px;"/>
            </VBox>
        </HBox>
    </top>
    
    <!-- Zone de jeu principale -->
    <center>
        <VBox alignment="CENTER" spacing="20">
            <padding>
                <Insets bottom="20" left="40" right="40" top="20"/>
            </padding>
            
            <!-- Formulaire de rÃ©ponses -->
            <ScrollPane fitToWidth="true" styleClass="card" VBox.vgrow="ALWAYS"
                        style="-fx-background: white; -fx-background-color: white;">
                <VBox fx:id="categoriesContainer" spacing="15" style="-fx-padding: 20;">
                    <!-- Les catÃ©gories seront ajoutÃ©es dynamiquement -->
                </VBox>
            </ScrollPane>
        </VBox>
    </center>
    
    <!-- Liste des joueurs (multijoueur) -->
    <right>
        <VBox fx:id="playersPane" styleClass="card" spacing="10" prefWidth="200" 
              visible="false" managed="false">
            <padding>
                <Insets bottom="15" left="15" right="15" top="15"/>
            </padding>
            
            <Label text="ðŸ‘¥ Joueurs" styleClass="label-header" style="-fx-font-size: 16px;"/>
            <Separator/>
            <VBox fx:id="playersListContainer" spacing="8">
                <!-- Liste des joueurs -->
            </VBox>
        </VBox>
    </right>
    
    <!-- Bas de page avec boutons d'action -->
    <bottom>
        <HBox alignment="CENTER" spacing="20" style="-fx-padding: 20;">
            <Button fx:id="submitButton" text="âœ… Valider mes rÃ©ponses" 
                    styleClass="button, button-success, button-large"
                    onAction="#handleSubmit"/>
            <Button fx:id="quitButton" text="âŒ Quitter" 
                    styleClass="button, button-danger"
                    onAction="#handleQuit"/>
        </HBox>
    </bottom>
    
</BorderPane>
